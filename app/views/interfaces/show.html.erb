<div class="main_title blue_link">
  <%= @interface.class.to_s.match(/DNA/i) ? "DNA" : "RNA" %> Interface of SCOP domain, <%= link_to @interface.domain.sid, scop_path(@interface.domain) %>
</div>

<table id="interface_table" class="bipa">
  <tr>
    <td class="title">No. of Atoms</td>
    <td colspan=6><%=h @interface[:atoms_count] %>
  </tr>
  <tr>
    <td class="title">No. of Residues</td>
    <td colspan=6><%=h @interface[:residues_count] %></td>
  </tr>
  <tr>
    <td class="title">ASA</td>
    <td colspan=6><%=h @interface[:asa] %> &Aring;</td>
  </tr>
  <tr>
    <td class="title">Polarity</td>
    <td colspan=6><%=h @interface[:polarity] %></td>
  </tr>
  <tr>
    <td class="title" rowspan=2>Residue Composition</td>
    <td colspan=6>
      <%= image_tag @interface.residue_percentage_google_chart_url %>
    </td>
  </tr>
  <tr>
    <td colspan=6>
      <%= image_tag @interface.residue_propensity_google_chart_url %>
    </td>
  </tr>
  <tr>
    <td class="title">SSE Composition</td>
    <td colspan=3>
      <%= image_tag @interface.sse_percentage_google_chart_url %>
    </td>
    <td colspan=3>
      <%= image_tag @interface.sse_propensity_google_chart_url %>
    </td>
  </tr>
  <tr>
    <td rowspan=4 class="title">Similar Interfaces in</td>
    <th colspan=2 class="title">Shape</th>
    <th colspan=2 class="title">ASA</th>
    <th colspan=2 class="title">Polarity</th>
  </tr>
  <tr valign="top">
    <td colspan=2>
      <% @interface.sorted_similar_interfaces_in_usr(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_usr_between(@interface, int) %>)<br />
      <% end %>
    </td>
    <td colspan=2>
      <% @interface.sorted_similar_interfaces_in_asa(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_asa_between(@interface, int) %>)<br />
      <% end %>
    </td>
    <td colspan=2>
      <% @interface.sorted_similar_interfaces_in_polarity(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_polarity_between(@interface, int) %>)<br />
      <% end %>
    </td>
  </tr>
  <tr>
    <th colspan=2>Residue Composition</th>
    <th colspan=2>SSE Composition</th>  
    <th colspan=2>All Aspects</th>
  </tr>
  <tr valign="top">
    <td colspan=2>
      <% @interface.sorted_similar_interfaces_in_res_composition(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_res_composition_between(@interface, int) %>)<br />
      <% end %>
    </td>
    <td colspan=2>
      <% @interface.sorted_similar_interfaces_in_sse_composition(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_sse_composition_between(@interface, int) %>)<br />
      <% end %>
    </td>
    <td> 
      <% @interface.sorted_similar_interfaces_in_all(10).each do |int| %>
        <%= link_to int.interface_type, interface_path(int) %> of <%= int.domain.sid %>
        (<%= "%.2f" % Interface.similarity_in_all_between(@interface, int) %>)<br />
      <% end %>
    </td>
  </tr>
</table>
