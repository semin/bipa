<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"> 
<html>
  <head>
    <title><%= @page_title || "Welcome to BIPA!" %></title>
    <%= javascript_include_tag :defaults %>
    <%= stylesheet_link_tag "bipa" %>
  </head>

  <body>
    <div id="header"> 
      <div id="header_banner">
        BIPA
      </div>
      <div id="header_subbanner">
        : <u>B</u>iological database for <u>I</u>nteraction between 
        <u>P</u>rotein and nucleic <u>A</u>cid
      </div>
      <%= image_tag "cambridge_logo.gif",
        :id => "header_banner_logo",
        :size => "60x80",
        :alt => "University of Cambridge"%>
      <div id="header_menu">
        <%= link_to "Home", '/home' %> |
        <%= link_to "Help", '/help' %> |
        <%= link_to "Contact", contacts_path %>
      </div>
    </div>

    <div id="header_separator">
    </div>

    <div id="left_border">
    </div>

    <div id="sidebar">
      <div id="sidebar_search">
        <% form_remote_tag(
          :url => { :action => "search" },
          :loading =>  "$('main_content').hide();" +
                      "$('main_spinner').show()",
          :complete => "$('main_spinner').hide();" +
                      "$('main_content').show()") do %>

          <div id="sidebar_search_text">
            <%= text_field("scop", "description",
                           :onfocus => "background_color_white();",
                           :onblur => "background_color_orange();") %>
          </div>
          <%= image_tag("spinner_arrow.gif",
                        :id => "sidebar_search_spinner",
                        :alt => "Searching...", :style => "display: none;") %>
          <div id="sidebar_search_image">
            <%= image_submit_tag("search.gif", :alt => "Search") %>
          </div>
        <% end %>
      </div>

      <div id="sidebar_separator">
      </div>

      <div id="sidebar_navigation">
        <% tabnav :sidebar do %>
          <%= yield :sidebar %>
        <% end %>
      </div>
      <div  id="scop_description_auto_complete"
            class="auto_complete">
      </div>
      <%= auto_complete_field(
          :scop_description,
          :indicator => 'sidebar_search_spinner',
          :url => {:action => 'auto_complete_description'},
          :on_show => "function(element, update) {
            update.show();
          }",
          :on_hide => "function(element, update) {
            update.hide();
            update.innerHTML = '';
            $('footer_notice').innerHTML = '';
          }",
          :select => 'description',
          :frequency => 0.5,
          :min_char => 3) -%>
    </div>

		<div id="separator">
    	<div id="separator_left">
	    </div>

	    <div id="separator_right">
	    </div>
		</div>

    <div id="main">
      <div id="main_content">
        <%= yield :layout %>
      </div>
      <%= image_tag(
        "spinner_spike.gif",
        :alt => "Loading ...",
        :border => 0,
        :id => "main_spinner",
        :size => "32x32",
        :style => "display: none;") %>
    </div>

    <div id="right_border">
    </div>

    <div id="footer_separator">
    </div>

    <div id="footer">
      <div id="footer_loading" style="display: none;">
        Loading...
      </div>
      <div id="footer_notice">
      </div>
    </div>
  </body>
</html>
